# SonarCloud Configuration - Backend Repository
# This analyzes the entire backend repo as a single project

sonar.projectKey=proyecto-2-backend
sonar.projectName=MediSupply Backend
sonar.projectVersion=1.0

# Source code directories (all microservices)
sonar.sources=bff,catalog/src,client/src,delivery/src,inventory/src,order/src,seller/src

# Exclusions - files not to analyze
sonar.exclusions=**/tests/**,**/test_*.py,**/__pycache__/**,**/migrations/**,**/alembic/**,**/.venv/**,**/venv/**,**/.pytest_cache/**,**/htmlcov/**,**/*.pyc,**/poetry.lock,**/.env,**/.env.*,**/Dockerfile,**/.dockerignore,**/docker-compose*.yml

# Test files location
sonar.tests=bff/tests,catalog/tests,client/tests,delivery/tests,inventory/tests,order/tests,seller/tests
sonar.test.inclusions=**/test_*.py,**/tests/**

# Python version
sonar.python.version=3.13

# Coverage reports (XML format from pytest-cov)
sonar.python.coverage.reportPaths=bff/coverage.xml,catalog/coverage.xml,client/coverage.xml,delivery/coverage.xml,inventory/coverage.xml,order/coverage.xml,seller/coverage.xml

# Code duplication detection exclusions
sonar.cpd.exclusions=**/migrations/**,**/alembic/**,**/tests/**,**/test_*.py

# Source file encoding
sonar.sourceEncoding=UTF-8

# Source Control Management
sonar.scm.provider=git

# Quality Gate - wait for quality gate result
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300
